<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Analysis of Transient Finite Element Results &mdash; SDynPy 0.5.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Model Reduction" href="model_reduction/model_reduction.html" />
    <link rel="prev" title="Rattlesnake Demonstration" href="rattlesnake_demonstration.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> SDynPy
          </a>
              <div class="version">
                0.5.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples.html">SDynpy Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="airplane_modal_test.html">Airplane Modal Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="rattlesnake_demonstration.html">Rattlesnake Demonstration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Analysis of Transient Finite Element Results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#problem-set-up">Problem Set Up</a></li>
<li class="toctree-l3"><a class="reference internal" href="#analyzing-model-responses">Analyzing Model Responses</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pseudorandom-analysis">Pseudorandom Analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#random-analysis">Random Analysis</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#comparison-of-excitation-techniques">Comparison of Excitation Techniques</a></li>
<li class="toctree-l3"><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model_reduction/model_reduction.html">Model Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="craig_bampton_substructuring.html">Substructuring using Craig-Bampton Superelements from Sierra/SD</a></li>
<li class="toctree-l2"><a class="reference internal" href="transmission_simulator.html">Substructuring using the Transmission Simulator Method</a></li>
<li class="toctree-l2"><a class="reference internal" href="mimo_random_vibration_control.html">MIMO Random Vibration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modal_tutorials.html">Modal Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">SDynPy Programming Interface</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SDynPy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../examples.html">SDynpy Examples</a></li>
      <li class="breadcrumb-item active">Analysis of Transient Finite Element Results</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/example_problems/transient_fem_analysis.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="analysis-of-transient-finite-element-results">
<h1><a class="toc-backref" href="#id33">Analysis of Transient Finite Element Results</a><a class="headerlink" href="#analysis-of-transient-finite-element-results" title="Permalink to this heading"></a></h1>
<p>One use-case of SDynPy could be for analyzing transient data from finite element
analysis.  While many structural dynamics codes will, for instance, automatically
compute eigensolutions to compute the modes of the system, we must sometimes use
transient solutions to analyze systems.  For example, if there is contact or
other nonlinearities that we wish to account for, then we can’t in general use
a linear finite element code to perform that solution.  This example will
demonstrate how to use SDynPy to perform modal analysis on the results of a
transient solution from Sierra/SolidMechanics’s explicit solver.</p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#analysis-of-transient-finite-element-results" id="id33">Analysis of Transient Finite Element Results</a></p>
<ul>
<li><p><a class="reference internal" href="#problem-set-up" id="id34">Problem Set Up</a></p></li>
<li><p><a class="reference internal" href="#analyzing-model-responses" id="id35">Analyzing Model Responses</a></p>
<ul>
<li><p><a class="reference internal" href="#pseudorandom-analysis" id="id36">Pseudorandom Analysis</a></p></li>
<li><p><a class="reference internal" href="#random-analysis" id="id37">Random Analysis</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#comparison-of-excitation-techniques" id="id38">Comparison of Excitation Techniques</a></p></li>
<li><p><a class="reference internal" href="#summary" id="id39">Summary</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="problem-set-up">
<h2><a class="toc-backref" href="#id34">Problem Set Up</a><a class="headerlink" href="#problem-set-up" title="Permalink to this heading"></a></h2>
<p>The problem we are investigating here is a simple cantilevered fork structure.</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../_images/tuning_fork_setup.png"><img alt="Tuning fork setup" src="../_images/tuning_fork_setup.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Tuning fork setup</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>We will constrain the base of the fork using a <code class="docutils literal notranslate"><span class="pre">fixed</span> <span class="pre">displacement</span></code> boundary
condition at nodeset 1, and nodeset 2 and 3 are defined such that external
forces may be applied.  The frequency range of interest for this analysis will
be up to 2000 Hz.</p>
<p>If the goal is to characterize the model rather than, for example, simulate an
environment, it can be useful to apply standard forcing signals to the part,
essentially performing a simulated modal test on the structure.  In this example,
we will investigate single-input excitation using Pseudorandom excitation and
multiple-input excitation using Random excitation.  Both of these signals can
be generated by SDynPy’s <a class="reference internal" href="../_autosummary/sdynpy.signal_processing.sdynpy_generator.html#module-sdynpy.signal_processing.sdynpy_generator" title="sdynpy.signal_processing.sdynpy_generator"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sdpy.generator</span></code></a>
module.</p>
<p>The first step will be to import the required packages</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sdynpy</span> <span class="k">as</span> <span class="nn">sdpy</span>           <span class="c1"># For structural dynamics operations</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>              <span class="c1"># For numeric operations</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> <span class="c1"># For plotting</span>
</pre></div>
</div>
<p>Then we will generate signals using the
<a class="reference internal" href="../_autosummary/sdynpy.signal_processing.sdynpy_generator.html#module-sdynpy.signal_processing.sdynpy_generator" title="sdynpy.signal_processing.sdynpy_generator"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sdpy.generator</span></code></a> module.
First, we will generate the Pseudorandom signal, using the
<a class="reference internal" href="../_autosummary/sdynpy.signal_processing.sdynpy_generator.pseudorandom.html#sdynpy.signal_processing.sdynpy_generator.pseudorandom" title="sdynpy.signal_processing.sdynpy_generator.pseudorandom"><code class="xref py py-func docutils literal notranslate"><span class="pre">sdpy.generator.pseudorandom</span></code></a>
function.</p>
<p>We will generate the signal such that each frame of data is 1 second long,
meaning the number of frequency lines is equal to the Nyquist frequency of
2000 Hz.  This results in a 1 Hz frequency spacing, which is equivalent to a
1 second measurement frame.  The signal will be generated such that is has a
level of 1 N RMS, and we will truncate the signal at 5 Hz, because frequencies
below that are not interesting in this analysis.  We specify 10 averages, and
an <code class="docutils literal notranslate"><span class="pre">integration_oversample</span></code> of 10.  This last parameter ensures that the linear
interpolation performed by Sierra/SolidMechanics results in a smooth sine wave
even at the Nyquist frequency of the analysis.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate the pseudorandom signal</span>
<span class="n">times</span><span class="p">,</span><span class="n">pseudorandom_signal</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">generator</span><span class="o">.</span><span class="n">pseudorandom</span><span class="p">(</span>
    <span class="n">fft_lines</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span> <span class="n">f_nyq</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span> <span class="n">signal_rms</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">min_freq</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">integration_oversample</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">averages</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>This signal is quite long, so it would be very clumbsy to write this directly
into the input file for the analysis.  This would result in a large amount of
scrolling to get to other portions of the input file.  Instead, we will write
the signal to another file, which will be included in the main input file for
the analysis.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;pseudorandom_signal.inc&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">t</span><span class="p">,</span><span class="n">s</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">times</span><span class="p">,</span><span class="n">pseudorandom_signal</span><span class="p">):</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:}</span><span class="s1"> </span><span class="si">{:}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">s</span><span class="p">))</span>
</pre></div>
</div>
<p>We can then plot the signal and its FFT to verify that it is constructed
correctly.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compute the FFT and frequency bins</span>
<span class="n">freq</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">rfftfreq</span><span class="p">(</span>
    <span class="n">pseudorandom_signal</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">times</span><span class="p">)))</span>
<span class="n">pseudorandom_signal_fft</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">rfft</span><span class="p">(</span><span class="n">pseudorandom_signal</span><span class="p">)</span>

<span class="c1"># Plot them</span>
<span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">num</span><span class="o">=</span><span class="s1">&#39;Pseudorandom Signal&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">times</span><span class="p">,</span><span class="n">pseudorandom_signal</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">pseudorandom_signal_fft</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Force (N)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;FFT Force (N)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Time (s)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Frequency (Hz)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Pseudorandom Excitation&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../_images/tuning_fork_pseudorandom_signal.png"><img alt="Pseudorandom signal applied to the tuning fork" src="../_images/tuning_fork_pseudorandom_signal.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Pseudorandom signal applied to the tuning fork</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>We can see that the signal repeats 10 times, once for each average specified.
We can also see that the frequency content ends abruptly at 2000 Hz, which is
the Nyquist frequency specified.  However, due to the integration oversampling,
the FFT is zero-padded up to 10 times the Nyquist frequency.</p>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../_images/tuning_fork_pseudorandom_signal_zoom.png"><img alt="Zoomed in portion of the pseudorandom signal" src="../_images/tuning_fork_pseudorandom_signal_zoom.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Zoomed in portion of the pseudorandom signal</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Zooming in on the signal, we can see more information.  We see that the signal
is indeed smooth, due to the oversampling specified.  There are no sharp features
in the signal.  Additionally, we can see that only every 10th frequency bin
has content.  This is due to the averaging, which increases the signal length
and therefore decreases the frequency bin spacing of the FFT.  However, because
we will be averaging the signals together and therefore shortening the signal
during the signal processing that will occur, we will lose these intermediate
frequency bins, and any content that is in them will result in spectral leakage.
It is therefore correct that these frequency bins should have zero frequency
content.</p>
<p>We can do similar for the random signal that we wish to generate, using the
<a class="reference internal" href="../_autosummary/sdynpy.signal_processing.sdynpy_generator.random.html#sdynpy.signal_processing.sdynpy_generator.random" title="sdynpy.signal_processing.sdynpy_generator.random"><code class="xref py py-func docutils literal notranslate"><span class="pre">sdpy.generator.random</span></code></a>
function.  Again, we will generate the signal such that it is 1 second long to
achieve 1 Hz frequency spacing.  We will generate two independent signals, to
excite the structure simultaneously from two different directions.  Because
random is not a deterministic signal, we will need to specify more averages
than in the pseudorandom case, so we specify 30 here.  We will again oversample
by 10 times to ensure the signal can be smoothly interpolated.  Here we must
also specify a <code class="docutils literal notranslate"><span class="pre">high_frequency_cutoff</span></code> to ensure that when we downsample the
random data, there is no frequency content past the Nyquist frequency.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate the random signal</span>
<span class="n">dt</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4000</span>
<span class="n">signal_shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,)</span>
<span class="n">averages</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">samples_per_frame</span> <span class="o">=</span> <span class="mi">4000</span>
<span class="n">oversample</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">random_signal</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">generator</span><span class="o">.</span><span class="n">random</span><span class="p">(</span>
    <span class="n">signal_shape</span><span class="p">,</span><span class="n">samples_per_frame</span><span class="o">*</span><span class="n">averages</span><span class="o">*</span><span class="n">oversample</span><span class="p">,</span><span class="n">rms</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">dt</span> <span class="o">=</span> <span class="n">dt</span><span class="o">/</span><span class="n">oversample</span><span class="p">,</span> <span class="n">high_frequency_cutoff</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">)</span>

<span class="n">times</span> <span class="o">=</span> <span class="n">dt</span><span class="o">/</span><span class="n">oversample</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">random_signal</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>Again, we will write these even longer signals to a separate file to be included
in the input file.  We will write each signal to a separate file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">signal</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">random_signal</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;random_signal_</span><span class="si">{:}</span><span class="s1">.inc&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">t</span><span class="p">,</span><span class="n">s</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">times</span><span class="p">,</span><span class="n">signal</span><span class="p">):</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:}</span><span class="s1"> </span><span class="si">{:}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">s</span><span class="p">))</span>
</pre></div>
</div>
<p>Finally, we will again plot the signal to ensure it is constructed correctly.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compute the FFT and frequency bins</span>
<span class="n">freq</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">rfftfreq</span><span class="p">(</span>
    <span class="n">random_signal</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">times</span><span class="p">)))</span>
<span class="n">random_signal_fft</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">rfft</span><span class="p">(</span><span class="n">random_signal</span><span class="p">)</span>

<span class="c1"># Plot them</span>
<span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">num</span><span class="o">=</span><span class="s1">&#39;Random Signal&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">times</span><span class="p">,</span><span class="n">random_signal</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">random_signal_fft</span><span class="o">.</span><span class="n">T</span><span class="p">))</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Force (N)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;FFT Force (N)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Time (s)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Frequency (Hz)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Random Excitation&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../_images/tuning_fork_random_signal.png"><img alt="Random signal applied to the tuning fork" src="../_images/tuning_fork_random_signal.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Random signal applied to the tuning fork</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>We can see now that there is no obvious repetition in the signal.  There is
also no frequency content past the Nyquist frequency of the test, which is 2000
Hz.</p>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../_images/tuning_fork_random_signal_zoom.png"><img alt="Zoomed in portion of the random signal" src="../_images/tuning_fork_random_signal_zoom.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Zoomed in portion of the random signal</span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Zooming in on the signal, we see that the signal is still smooth due to the
oversampling, which is necessary for accurate interpolation.  We also see that
there is now frequency content in all frequency bins up to the Nyquist.  This
is due to there not being any repetition in the signal.  When we do the signal
processing and reduce down to a single frame of data, these frequency bins will
result in spectral leakage, so we will need to handle that appropriately by
windowing the signal.</p>
<p>With the signals generated, the input deck can be completed.  In the function
definitions, we include the file that we wrote that contains the forcing
function.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">begin</span> <span class="n">function</span> <span class="n">pseudorandom</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="n">piecewise</span> <span class="n">linear</span>
    <span class="n">begin</span> <span class="n">values</span>
        <span class="p">{</span><span class="n">include</span><span class="p">(</span><span class="s2">&quot;pseudorandom_signal.inc&quot;</span><span class="p">)}</span>
    <span class="n">end</span>
<span class="n">end</span> <span class="n">function</span> <span class="n">pseudorandom</span>
</pre></div>
</div>
<p>We can then apply that function to nodesets in the model using the
<code class="docutils literal notranslate"><span class="pre">begin</span> <span class="pre">prescribed</span> <span class="pre">force</span></code> block.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">begin</span> <span class="n">prescribed</span> <span class="n">force</span>
    <span class="n">node</span> <span class="nb">set</span> <span class="o">=</span> <span class="n">nodelist_2</span>
    <span class="n">direction</span> <span class="o">=</span> <span class="n">y</span>
    <span class="n">function</span> <span class="o">=</span> <span class="n">pseudorandom</span>
<span class="n">end</span>
</pre></div>
</div>
<p>Ensure that <code class="docutils literal notranslate"><span class="pre">aprepro</span></code> processing is used when running Sierra with the <code class="docutils literal notranslate"><span class="pre">-a</span></code>
flag to ensure the included files are processed correctly.</p>
<dl class="simple">
<dt>Some other brief notes on setting up the analysis:</dt><dd><ol class="arabic simple">
<li><p>The termination time is set to the length of the signal to stop the analysis
when the signal runs out.</p></li>
<li><p>Damping is added using proportional damping with mass coefficient 2 and
stiffness coefficient 0.0000025.</p></li>
<li><p>Output is reported every 0.00025 seconds, which corresponds to a 4000 Hz
sample rate, which is twice the Nyquist frequency of our signals.  If
numerical noise is present in the analysis, it may be useful to oversample
the output and then apply a filter to remove some of this noise before
downsampling.</p></li>
<li><p>Acceleration and displacement variables were output from the analysis.
Either can be analyzed, but we must tell the mode fitter which data type
the data is.  External forces are also output so we can recover the forcing
function to use as reference to the frequency response function.</p></li>
</ol>
</dd>
</dl>
</section>
<section id="analyzing-model-responses">
<h2><a class="toc-backref" href="#id35">Analyzing Model Responses</a><a class="headerlink" href="#analyzing-model-responses" title="Permalink to this heading"></a></h2>
<p>After the models are run, we can load the data in and analyze it as if it were
test data.  For this example, we will use the Graphical tools in SDynPy to compute
frequency response functions and fit modes.</p>
<section id="pseudorandom-analysis">
<h3><a class="toc-backref" href="#id36">Pseudorandom Analysis</a><a class="headerlink" href="#pseudorandom-analysis" title="Permalink to this heading"></a></h3>
<p>In our pseudorandom analysis code, we will first import the required packages
and then load in the Exodus file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import packages</span>
<span class="kn">import</span> <span class="nn">sdynpy</span> <span class="k">as</span> <span class="nn">sdpy</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Load in the exodus file</span>
<span class="n">exo</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">Exodus</span><span class="p">(</span><span class="s1">&#39;tuning_fork_pseudorandom.e&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Typing the variable name into the console will give us information about what is
in the results file.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">In [1]: exo</span>
<span class="go">Out[1]:</span>
<span class="go">Exodus File at tuning_fork_pseudorandom.e</span>
<span class="go">  40002 Timesteps</span>
<span class="go">  333 Nodes</span>
<span class="go">  144 Elements</span>
<span class="go">  Blocks: 1</span>
<span class="go">  Node Variables: displacement_x, displacement_y, displacement_z, acceleration_x, acceleration_y, acceleration_z, force_external_x, force_external_y, force_external_z</span>
<span class="go">  Global Variables: external_energy, internal_energy, kinetic_energy, momentum_x, momentum_y, momentum_z, timestep</span>
</pre></div>
</div>
<p>We can see that the displacement variables are called <code class="docutils literal notranslate"><span class="pre">displacement_x</span></code>,
<code class="docutils literal notranslate"><span class="pre">displacement_y</span></code>, and <code class="docutils literal notranslate"><span class="pre">displacement_z</span></code>, and there are also acceleration
responses called <code class="docutils literal notranslate"><span class="pre">acceleration_x</span></code>, <code class="docutils literal notranslate"><span class="pre">acceleration_y</span></code>, and <code class="docutils literal notranslate"><span class="pre">acceleration_z</span></code>.
External forces are also reported on the model; these are called
<code class="docutils literal notranslate"><span class="pre">force_external_x</span></code>, <code class="docutils literal notranslate"><span class="pre">force_external_y</span></code>, <code class="docutils literal notranslate"><span class="pre">force_external_z</span></code> and will
contain all forcing applied to the model.</p>
<p>The first thing we will do is create a <a class="reference internal" href="../_autosummary/sdynpy.core.sdynpy_geometry.Geometry.html#sdynpy.core.sdynpy_geometry.Geometry" title="sdynpy.core.sdynpy_geometry.Geometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">Geometry</span></code></a>
object from the Exodus results using its
<a class="reference internal" href="../_autosummary/sdynpy.core.sdynpy_geometry.Geometry.html#sdynpy.core.sdynpy_geometry.Geometry.from_exodus" title="sdynpy.core.sdynpy_geometry.Geometry.from_exodus"><code class="xref py py-func docutils literal notranslate"><span class="pre">Geometry.from_exodus</span></code></a>
method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load in the geometry</span>
<span class="n">geometry</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">from_exodus</span><span class="p">(</span><span class="n">exo</span><span class="p">)</span>
</pre></div>
</div>
<p>This will result in a geometry object containing the nodes and element
connectivity.  We can plot the geometry to ensure it was loaded successfully.</p>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="../_images/tuning_fork_geometry.png"><img alt="Tuning fork geometry" src="../_images/tuning_fork_geometry.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Tuning fork geometry</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>We can also load in the time data into a
<a class="reference internal" href="../_autosummary/sdynpy.core.sdynpy_data.TimeHistoryArray.html#sdynpy.core.sdynpy_data.TimeHistoryArray" title="sdynpy.core.sdynpy_data.TimeHistoryArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeHistoryArray</span></code></a> using its
<a class="reference internal" href="../_autosummary/sdynpy.core.sdynpy_data.TimeHistoryArray.html#sdynpy.core.sdynpy_data.TimeHistoryArray.from_exodus" title="sdynpy.core.sdynpy_data.TimeHistoryArray.from_exodus"><code class="xref py py-func docutils literal notranslate"><span class="pre">TimeHistoryArray.from_exodus</span></code></a>
method.  Note that the default arguments to the
<a class="reference internal" href="../_autosummary/sdynpy.core.sdynpy_data.TimeHistoryArray.html#sdynpy.core.sdynpy_data.TimeHistoryArray.from_exodus" title="sdynpy.core.sdynpy_data.TimeHistoryArray.from_exodus"><code class="xref py py-func docutils literal notranslate"><span class="pre">TimeHistoryArray.from_exodus</span></code></a>
method assume Sierra/SD variable names <code class="docutils literal notranslate"><span class="pre">DispX</span></code>, <code class="docutils literal notranslate"><span class="pre">DispY</span></code>, and <code class="docutils literal notranslate"><span class="pre">DispZ</span></code>, so
we will have to explicitly tell the method which variables to grab.  Note that
we could grab either acceleration or displacement data this way.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># We could get displacements like this:</span>
<span class="n">response_data</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">TimeHistoryArray</span><span class="o">.</span><span class="n">from_exodus</span><span class="p">(</span>
    <span class="n">exo</span><span class="p">,</span><span class="s1">&#39;displacement_x&#39;</span><span class="p">,</span><span class="s1">&#39;displacement_y&#39;</span><span class="p">,</span><span class="s1">&#39;displacement_z&#39;</span><span class="p">)</span>

<span class="c1"># Or we can get accelerations like this:</span>
<span class="c1"># response_data = sdpy.TimeHistoryArray.from_exodus(</span>
<span class="c1">#     exo,&#39;acceleration_x&#39;,&#39;acceleration_y&#39;,&#39;acceleration_z&#39;)</span>
</pre></div>
</div>
<p>To make sure the data was loaded correctly, we can plot it.  This can be done
either as 2D data using <a class="reference internal" href="../_autosummary/sdynpy.core.sdynpy_data.GUIPlot.html#sdynpy.core.sdynpy_data.GUIPlot" title="sdynpy.core.sdynpy_data.GUIPlot"><code class="xref py py-class docutils literal notranslate"><span class="pre">GUIPlot</span></code></a> or
as 3D data using the
<a class="reference internal" href="../_autosummary/sdynpy.core.sdynpy_geometry.Geometry.html#sdynpy.core.sdynpy_geometry.Geometry.plot_transient" title="sdynpy.core.sdynpy_geometry.Geometry.plot_transient"><code class="xref py py-func docutils literal notranslate"><span class="pre">geometry.plot_transient</span></code></a>
method.  For plotting 3D data with long transient signals, it is often better
to reduce the size of the data to make the user interface more responsive.
We can reduce to only the first second of data using the
<code class="xref py py-func docutils literal notranslate"><span class="pre">response_data.extract_elements_by_abscissa</span></code>
method and passing the start abscissa as 0 and the end abscissa as 1.</p>
<p>Note that the displacements will be quite small, so it will be useful to scale
the displacements on the 3D animation so they are visible.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the response data</span>
<span class="n">gui</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">GUIPlot</span><span class="p">(</span><span class="n">response_data</span><span class="p">)</span> <span class="c1"># 2D Plot</span>
<span class="n">plotter</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">plot_transient</span><span class="p">(</span><span class="n">response_data</span><span class="o">.</span><span class="n">extract_elements_by_abscissa</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="c1"># 3D Plot</span>
</pre></div>
</div>
<figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../_images/tuning_fork_displacement.png"><img alt="Tuning fork displacement" src="../_images/tuning_fork_displacement.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Tuning fork displacement plot using <a class="reference internal" href="../_autosummary/sdynpy.core.sdynpy_data.GUIPlot.html#sdynpy.core.sdynpy_data.GUIPlot" title="sdynpy.core.sdynpy_data.GUIPlot"><code class="xref py py-class docutils literal notranslate"><span class="pre">GUIPlot</span></code></a></span><a class="headerlink" href="#id7" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id8">
<a class="reference internal image-reference" href="../_images/tuning_fork_displacement_animation.gif"><img alt="Tuning fork displacement animation" src="../_images/tuning_fork_displacement_animation.gif" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Tuning fork displacement animation from the
<a class="reference internal" href="../_autosummary/sdynpy.core.sdynpy_geometry.Geometry.html#sdynpy.core.sdynpy_geometry.Geometry.plot_transient" title="sdynpy.core.sdynpy_geometry.Geometry.plot_transient"><code class="xref py py-func docutils literal notranslate"><span class="pre">geometry.plot_transient</span></code></a>
function</span><a class="headerlink" href="#id8" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The last piece of data needed is the force, which will be used as a reference
signal to compute frequency response functions.  Rather than extracting data
using the
<a class="reference internal" href="../_autosummary/sdynpy.core.sdynpy_data.TimeHistoryArray.html#sdynpy.core.sdynpy_data.TimeHistoryArray.from_exodus" title="sdynpy.core.sdynpy_data.TimeHistoryArray.from_exodus"><code class="xref py py-func docutils literal notranslate"><span class="pre">TimeHistoryArray.from_exodus</span></code></a>
method, we will instead demonstrate how to interrogate the Exodus file directly
and produce a <a class="reference internal" href="../_autosummary/sdynpy.core.sdynpy_data.TimeHistoryArray.html#sdynpy.core.sdynpy_data.TimeHistoryArray" title="sdynpy.core.sdynpy_data.TimeHistoryArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeHistoryArray</span></code></a>
using the <a class="reference internal" href="../_autosummary/sdynpy.core.sdynpy_data.data_array.html#sdynpy.core.sdynpy_data.data_array" title="sdynpy.core.sdynpy_data.data_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">sdpy.data_array</span></code></a> function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the node from the nodeset that the force was applied to</span>
<span class="n">force_node</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_node_set_nodes</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="c1"># Get the y-direction external force applied at that node.</span>
<span class="n">excitation_force_signal</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_node_variable_value</span><span class="p">(</span><span class="s1">&#39;force_external_y&#39;</span><span class="p">,</span>
                                                      <span class="n">force_node</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="c1"># Set up coordinate information by indexing the node number map.</span>
<span class="n">coord</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">coordinate_array</span><span class="p">(</span><span class="n">exo</span><span class="o">.</span><span class="n">get_node_num_map</span><span class="p">()[</span><span class="n">force_node</span><span class="p">],</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Convert to a TimeHistoryArray</span>
<span class="n">force_data</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">data_array</span><span class="p">(</span><span class="n">sdpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">FunctionTypes</span><span class="o">.</span><span class="n">TIME_RESPONSE</span><span class="p">,</span>
                             <span class="n">response_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">abscissa</span><span class="p">,</span>
                             <span class="n">excitation_force_signal</span><span class="p">,</span>
                             <span class="n">coord</span><span class="p">)</span>
</pre></div>
</div>
<p>We can then combine our reference signal with the response signals and pass all
the data to the
<a class="reference internal" href="../_autosummary/sdynpy.modal.sdynpy_signal_processing_gui.SignalProcessingGUI.html#sdynpy.modal.sdynpy_signal_processing_gui.SignalProcessingGUI" title="sdynpy.modal.sdynpy_signal_processing_gui.SignalProcessingGUI"><code class="xref py py-class docutils literal notranslate"><span class="pre">sdpy.SignalProcessingGUI</span></code></a>.  We can assign the
geometry to the tool by assigning to the <code class="docutils literal notranslate"><span class="pre">geometry</span></code> attribute instead of
saving it to a file and loading it from graphical user interface.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Concatenate into a single file</span>
<span class="n">all_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">force_data</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">],</span><span class="n">response_data</span><span class="p">))</span>

<span class="c1"># Analyze the data</span>
<span class="n">gui</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">SignalProcessingGUI</span><span class="p">(</span><span class="n">all_data</span><span class="p">)</span>
<span class="n">gui</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">geometry</span>
</pre></div>
</div>
<figure class="align-center" id="id9">
<a class="reference internal image-reference" href="../_images/tuning_fork_initial_guifrf.png"><img alt="SignalProcessingGUI window upon first appearance" src="../_images/tuning_fork_initial_guifrf.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Initial appearance of the SignalProcessingGUI window</span><a class="headerlink" href="#id9" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Let’s first explore the SignalProcessingGUI Window.  On the top left is a set of <code class="docutils literal notranslate"><span class="pre">Information</span></code>
about the signals that are loaded.  We see there are 1000 signals total, of
which 0 are references and 1000 are responses (we will fix this shortly).  There
are 40002 samples for a duration of 10 seconds, and the sample rate is 4000.10 Hz
(note that there is some uncertainty in when the Exodus file is written to in
Sierra/SM, which explains the small divergence from the desired 4000 Hz).</p>
<p>Below the information we have the <code class="docutils literal notranslate"><span class="pre">Data</span> <span class="pre">Range</span></code>.  This allows us to select a range
over which the computation will be performed.  This is useful for targetting
portions of an environment, or for discarding portions of data that are not yet
at steady state.</p>
<p>Below that are the <code class="docutils literal notranslate"><span class="pre">Averaging</span> <span class="pre">and</span> <span class="pre">Triggering</span></code> settings.  This allows users to
specify when the frames occur in the signal, either by setting them up every
so many samples, or detecting some kind of trigger signal to use to locate the
measurement frames.</p>
<p>Below that are the <code class="docutils literal notranslate"><span class="pre">Sampling</span></code> options, where the frame length is specified.</p>
<p>Finally, the last options are for <code class="docutils literal notranslate"><span class="pre">Windowing</span></code>.  Certain windows may have extra
parameters that will appear in this box.  For example, the decay of an exponential
window.</p>
<p>In the center of the window, we see two plots that are currently empty except
for some green boxes.  These green boxes represent the measurement frames in
the signal.  Currently no signals are plotted, because we have not selected any
signals from the lists on the right side of the window.  There are currently no
signals listed in the <code class="docutils literal notranslate"><span class="pre">References</span></code> list; all are currently in the <code class="docutils literal notranslate"><span class="pre">Responses</span></code>
list.  Signals can be moved from reference to response and vice versa by
double-clicking the signal name in the list on the right side.  Note also that
when a signal is clicked, it will be shown in the respective plot.</p>
<p>Finally, on the bottom right corner of the window, we have signal processing
computations that can be performed.  The check boxes denote which functions
to compute when the <code class="docutils literal notranslate"><span class="pre">Compute</span></code> button is pressed.  Once a function is computed,
it can be plotted or saved to a file.</p>
<p>There are also menus at the top of the window that contain additional functionality.
The <code class="docutils literal notranslate"><span class="pre">File</span></code> menu allows data to be loaded directly from the disk.  The
<code class="docutils literal notranslate"><span class="pre">Visualize</span></code> menu allows the data to be sent to the transient or deflection shape
plotters once a geometry is loaded (or assigned via code as we have done).
The <code class="docutils literal notranslate"><span class="pre">Analyze</span></code> menu allows data to be sent to curve fitting software,
though these are currently disabled until frequency response functions have been
computed.</p>
<p>To start with, we will send our force, which is the first signal in the list
to the references list by double-clicking it.  We should now see that signal
as a reference in the top list and plotted in the top plot.
Let’s also select the drive point response in
the bottom list (only single click, not double click) so it is plotted in the
bottom plot.</p>
<p>The first thing we will check is our sampling.  We set up our signals to
provide 1 Hz frequency spacing, and we can see that the SignalProcessingGUI window has
defaulted to the correct frame size to provide that spacing.  We therefore
do not have to change anything about the frame length.  Additionally, with
Pseudorandom excitation, we will not need to apply any windows or overlap to
the data, so those can stay unchanged as well.</p>
<p>We are nominally exciting the structure with the same excitation for each
measurement frame, so the response should be identical for each measurement
frame as well.  However, we can see that there is some start-up transients
that make the first frame not identical to the others, so we would like to
discard that first frame.  We can change the <code class="docutils literal notranslate"><span class="pre">Acceptance:</span></code> selector from
<code class="docutils literal notranslate"><span class="pre">All</span></code> to <code class="docutils literal notranslate"><span class="pre">Select</span></code> and then click on the green rectangle representing the
first frame to reject it.  The box should turn red when this happens, and the
<code class="docutils literal notranslate"><span class="pre">Frames</span></code> counter should decrease from 10 to 9.</p>
<figure class="align-center" id="id10">
<a class="reference internal image-reference" href="../_images/tuning_fork_reject_frame_guifrf.png"><img alt="SignalProcessingGUI window after rejecting the first frame" src="../_images/tuning_fork_reject_frame_guifrf.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">SignalProcessingGUI window after rejecting the first frame</span><a class="headerlink" href="#id10" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>At this point, we will compute the desired functions.  We will select the
<code class="docutils literal notranslate"><span class="pre">FRF</span></code> checkbox (keeping <code class="docutils literal notranslate"><span class="pre">H1</span></code> as the desired estimator) and also select
<code class="docutils literal notranslate"><span class="pre">Coherence</span></code>.  We can then press the <code class="docutils literal notranslate"><span class="pre">Compute</span></code> button to perform the
computations.  You should notice that the <code class="docutils literal notranslate"><span class="pre">Plot</span></code> and <code class="docutils literal notranslate"><span class="pre">Save</span></code> buttons for the
FRF and Coherence have been enabled.  We can plot these functions to see if
they look correct or not.</p>
<figure class="align-center" id="id11">
<a class="reference internal image-reference" href="../_images/tuning_fork_compute_guifrf.png"><img alt="SignalProcessingGUI window after computing the functions" src="../_images/tuning_fork_compute_guifrf.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">SignalProcessingGUI window after computing the functions</span><a class="headerlink" href="#id11" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id12">
<a class="reference internal image-reference" href="../_images/tuning_fork_frf_guifrf.png"><img alt="FRF computed from SignalProcessingGUI" src="../_images/tuning_fork_frf_guifrf.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">FRF computed from SignalProcessingGUI</span><a class="headerlink" href="#id12" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id13">
<a class="reference internal image-reference" href="../_images/tuning_fork_coh_guifrf.png"><img alt="Coherence computed from SignalProcessingGUI" src="../_images/tuning_fork_coh_guifrf.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Coherence computed from SignalProcessingGUI</span><a class="headerlink" href="#id13" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The frequency response functions are clean and the coherence is high at the
modes of the structure.  We can quickly investigate the different deflection
shapes using the Deflection Shape Plotter, which can be accessed via the
<code class="docutils literal notranslate"><span class="pre">Visualize</span></code> menu.</p>
<figure class="align-center" id="id14">
<a class="reference internal image-reference" href="../_images/tuning_fork_deflection_shape_plot_menu.png"><img alt="Selecting Deflection Shape Plotter" src="../_images/tuning_fork_deflection_shape_plot_menu.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Selecting the deflection shape plotter</span><a class="headerlink" href="#id14" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id15">
<a class="reference internal image-reference" href="../_images/tuning_fork_deflection_shape_plot.png"><img alt="Deflection Shape Plotter" src="../_images/tuning_fork_deflection_shape_plot.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Deflection shape plotter showing the shape at 219 Hz.</span><a class="headerlink" href="#id15" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>To fit modes to the FRFs, we can send the FRFs to a curve fitter via the
<code class="docutils literal notranslate"><span class="pre">Analyze</span></code> menu.</p>
<figure class="align-center" id="id16">
<a class="reference internal image-reference" href="../_images/tuning_fork_analyze_menu.png"><img alt="Selecting analysis with PolyPy" src="../_images/tuning_fork_analyze_menu.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Selecting PolyPy to analyze the FRFs</span><a class="headerlink" href="#id16" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>We will use PolyPy in this example.  Selecting <code class="docutils literal notranslate"><span class="pre">Analyze</span> <span class="pre">with</span> <span class="pre">PolyPy</span></code> will
bring up the PolyPy window with the computed FRFs loaded.  PolyPy is a
multi-reference Z-domain polynomial curve fitter.  The mode fitting process
consists of two parts.  In the first phase, the roots of the polynomial are
solved for a number of different polynomial orders.  The roots are generally
either real modes of the system or computational roots.  The real roots will
generally be stable, or occur with the same frequency and damping regardless
of the order of the polynomial being solved.  The computational roots, on the
other hand, will tend to appear spuriously thoughout the frequency range.  In
the second phase of the curve fitting process, the user will select these
stable roots from a stability diagram.</p>
<p>In present PolyPy implementation, the user can select a mode indicator function
to plot.  The Complex Mode Indicator Function (CMIF) is the singular values of
the FRF matrix, and will show peaks where modes are located.  The QMIF is a
version of the CMIF computed using only the imaginary part of the FRF matrix,
and can be more sensitive to modes than the regular CMIF.  The Normal Mode
Indicator Function (NMIF) and Multi-Mode Indicator Function (MMIF) both denote
modes as dips in the indicator function.</p>
<p>In the first phase, the user should also specify the Polynomial Order.  These
are the orders for which the system will be solved.  Generally, the larger the
polynomial order, and more orders solved, the longer it will take to create the
stability diagram in the second phase of the curve fitter.  However, enough
orders need to be solved to identify the stability trends.  In this case, we
will solve between polynomial orders from 20 to 40 by 1, which will solve the
system for polynomials orders 20, 21, 22, … , 38, 39, 40.</p>
<p>Users should also specify the type of FRF in the data.  The default is set to
<code class="docutils literal notranslate"><span class="pre">Acceleration</span></code> over force FRFs; however, the current FRFs are
displacement over force, so the Data Type should be set to <code class="docutils literal notranslate"><span class="pre">Displacement</span></code>.</p>
<figure class="align-center" id="id17">
<a class="reference internal image-reference" href="../_images/tuning_fork_analyze_setup.png"><img alt="PolyPy Setup" src="../_images/tuning_fork_analyze_setup.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">PolyPy setup phase with Poly Order and Data Type set</span><a class="headerlink" href="#id17" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Once the parameters are set, the <code class="docutils literal notranslate"><span class="pre">Compute</span> <span class="pre">Stabilization</span></code> button can be
pressed.  The stabilization calculation can take a while depending on the size
of the FRF matrix and polynomial orders selected.  Status messages will appear
in the Python console.  When the computation is done, the stability diagram will
be shown.  In this diagram, the polynomial roots are shown overlaying a mode
indicator function to aid in selecting the real roots of the system.  Roots of
the polynomial will be represented using symbols, depending on the stability
achieved.  A red X will mean that the root is unstable and shouldn’t be selected.
A blue triangle means that the frequency has stabilized, but not the damping or
participation factor.  A blue square will mean that the frequency and damping
have stabilized, and a green circle will mean that the frequency, damping, and
participation factors have stabilized.  Generally, green circles should be
selected, and there are rules of thumb suggesting which green circle to select;
for example, many people will generally choose the third or fourth green circle
after stabilization occurs.  The PolyPy implementation will report the frequency
and damping of the root while the mouse is hovering over it to allow the user
to understand the stability.  Hovered roots will be highlighted black.</p>
<figure class="align-center" id="id18">
<a class="reference internal image-reference" href="../_images/tuning_fork_root_hover.png"><img alt="PolyPy hovering over a root" src="../_images/tuning_fork_root_hover.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Hovering over a root in PolyPy displays the frequency and damping.</span><a class="headerlink" href="#id18" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Roots can then be selected by clicking on them.  If the <code class="docutils literal notranslate"><span class="pre">Auto-Resynthesize</span></code>
checkbox is checked, PolyPy will immediately compute shapes and resynthesize
FRFs after each root selection to allow the user to see the immediate impact
of their selection.  For large problems, this resynthesis can take a bit of
time, so users may wish to deselect this checkbox and simply resynthesize after
all roots have been selected.  Selected roots will appear colored in, and the
frequency, damping, and stability will be reported in the <code class="docutils literal notranslate"><span class="pre">Poles</span></code> table.</p>
<p>Users can select whether or not to compute complex modes by selecting the
<code class="docutils literal notranslate"><span class="pre">Complex</span> <span class="pre">Modes</span></code> checkbox, and they can also specify if residuals should be
used to compute the resynthesized FRFs by selecting the <code class="docutils literal notranslate"><span class="pre">Residuals</span></code> checkbox,
which can improve shape accuracy.</p>
<figure class="align-center" id="id19">
<a class="reference internal image-reference" href="../_images/tuning_fork_selected_roots.png"><img alt="Selected Roots" src="../_images/tuning_fork_selected_roots.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Roots selected for each mode in the stability diagram</span><a class="headerlink" href="#id19" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Clicking the <code class="docutils literal notranslate"><span class="pre">Resynthesize</span></code> button will compute mode shapes and resynthesize
the FRF matrix so the modal fits can be compared against the experimental data.
These shapes can be plotted by first loading in a geometry using the <code class="docutils literal notranslate"><span class="pre">Load</span> <span class="pre">Geometry</span></code>
button, and the clicking the <code class="docutils literal notranslate"><span class="pre">Plot</span> <span class="pre">Shapes</span></code> button.  Note that the FRFGUI window
will automatically pass its geometry to the curve fitter, so we do not need to
load a geometry here.</p>
<figure class="align-center" id="id20">
<a class="reference internal image-reference" href="../_images/tuning_fork_mode_animation.gif"><img alt="Mode shape animation" src="../_images/tuning_fork_mode_animation.gif" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Mode shape for the mode extracted at 332 Hz</span><a class="headerlink" href="#id20" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Users can judge the adequacy of their fits by clicking one of the buttons in
the <code class="docutils literal notranslate"><span class="pre">Resynthesis</span></code> box on the right side of the window.  Individual FRFs can
be compared, or data can be accumulated into a mode indicator function and
plotted to give an overall view of the fit adequacy.</p>
<figure class="align-center" id="id21">
<a class="reference internal image-reference" href="../_images/tuning_fork_frf_fits.png"><img alt="FRF resynthesis compared to data" src="../_images/tuning_fork_frf_fits.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Comparison of initial FRFs to resynthesized FRFs showing good modal fits have
been obtained</span><a class="headerlink" href="#id21" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id22">
<a class="reference internal image-reference" href="../_images/tuning_fork_cmif_fits.png"><img alt="CMIF resynthesis compared to data" src="../_images/tuning_fork_cmif_fits.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Comparison of initial CMIF to resynthesized CMIF showing good modal fits have
been obtained</span><a class="headerlink" href="#id22" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Users can then export the shapes to a file by clicking the <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">Shapes</span></code>
or <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">Fit</span> <span class="pre">Data</span></code> buttons.  The <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">Shapes</span></code> button only saves the
shape data to the disk.  The <code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">Fit</span> <span class="pre">Data</span></code> additionally saves the input
FRFs and resynthesized FRFs to the disk, which gives a more complete picture
of the fit adequacy.  We will save the shape data to disk so we can compare
against the shapes obtained from the Random excitation.</p>
</section>
<section id="random-analysis">
<h3><a class="toc-backref" href="#id37">Random Analysis</a><a class="headerlink" href="#random-analysis" title="Permalink to this heading"></a></h3>
<p>The Random response data will be extracted from the model similarly to the
Pseudorandom response data.  This time we will read in acceleration data rather
than displacement data.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sdynpy</span> <span class="k">as</span> <span class="nn">sdpy</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">exo</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">Exodus</span><span class="p">(</span><span class="s1">&#39;tuning_fork_random.e&#39;</span><span class="p">)</span>
<span class="n">geometry</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">from_exodus</span><span class="p">(</span><span class="n">exo</span><span class="p">)</span>
<span class="c1"># response_data = sdpy.TimeHistoryArray.from_exodus(</span>
<span class="c1">#     exo,&#39;displacement_x&#39;,&#39;displacement_y&#39;,&#39;displacement_z&#39;)</span>
<span class="n">response_data</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">TimeHistoryArray</span><span class="o">.</span><span class="n">from_exodus</span><span class="p">(</span>
    <span class="n">exo</span><span class="p">,</span><span class="s1">&#39;acceleration_x&#39;</span><span class="p">,</span><span class="s1">&#39;acceleration_y&#39;</span><span class="p">,</span><span class="s1">&#39;acceleration_z&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In this example, there are two nodes which have forces applied to them, and
these correspond to nodesets 2 and 3, with excitation in the <span class="math notranslate nohighlight">\(y\)</span> and <span class="math notranslate nohighlight">\(z\)</span>
directions, respectively.  We can perform the same operations to extract the
forces, except this time we will use a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to loop over each signal.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">force_data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">nodeset</span><span class="p">,</span><span class="n">direction</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;y&#39;</span><span class="p">,</span><span class="s1">&#39;z&#39;</span><span class="p">]):</span>
    <span class="n">force_node</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_node_set_nodes</span><span class="p">(</span><span class="n">nodeset</span><span class="p">)</span>
    <span class="n">excitation_force_signal</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_node_variable_value</span><span class="p">(</span><span class="s1">&#39;force_external_&#39;</span><span class="o">+</span><span class="n">direction</span><span class="p">,</span><span class="n">force_node</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">force_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sdpy</span><span class="o">.</span><span class="n">data_array</span><span class="p">(</span><span class="n">sdpy</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">FunctionTypes</span><span class="o">.</span><span class="n">TIME_RESPONSE</span><span class="p">,</span><span class="n">response_data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">abscissa</span><span class="p">,</span>
                                 <span class="n">excitation_force_signal</span><span class="p">,</span><span class="n">sdpy</span><span class="o">.</span><span class="n">coordinate_array</span><span class="p">(</span><span class="n">exo</span><span class="o">.</span><span class="n">get_node_num_map</span><span class="p">()[</span><span class="n">force_node</span><span class="p">],</span><span class="n">nodeset</span><span class="p">))[</span><span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">])</span>
</pre></div>
</div>
<p>We again concatenate the force data with the response data and pass the complete
dataset to the <a class="reference internal" href="../_autosummary/sdynpy.modal.sdynpy_signal_processing_gui.SignalProcessingGUI.html#sdynpy.modal.sdynpy_signal_processing_gui.SignalProcessingGUI" title="sdynpy.modal.sdynpy_signal_processing_gui.SignalProcessingGUI"><code class="xref py py-class docutils literal notranslate"><span class="pre">sdpy.SignalProcessingGUI</span></code></a> tool.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">all_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="n">force_data</span><span class="o">+</span><span class="p">[</span><span class="n">response_data</span><span class="p">])</span>

<span class="n">gui</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">SignalProcessingGUI</span><span class="p">(</span><span class="n">all_data</span><span class="p">)</span>
<span class="n">gui</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">geometry</span>
</pre></div>
</div>
<p>We will set up the signal processing slightly differently this time due to the
different excitation type.  The first two signals are now the force data, so we
will double-click both to set them both to references.  Rather than rejecting
the first few frames, we will instead truncate the startup transients using the
<code class="docutils literal notranslate"><span class="pre">Data</span> <span class="pre">Range</span></code> selector to remove the first 2 seconds of the time signal.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">Averaging</span> <span class="pre">and</span> <span class="pre">Triggering</span></code> section, we will set the <code class="docutils literal notranslate"><span class="pre">Overlap</span></code> to
50%.  We will again leave the <code class="docutils literal notranslate"><span class="pre">Sampling</span></code> alone because it has already
defaulted to 1 Hz frequency spacing.</p>
<p>A final setting we need to change is to set the <code class="docutils literal notranslate"><span class="pre">Window</span></code> to <code class="docutils literal notranslate"><span class="pre">Hann</span></code>.  This
will apply a window function to reduce spectral leakage due to the Random
excitation signal.</p>
<p>We will again select the H1 FRF and the Coherence to compute.</p>
<figure class="align-center" id="id23">
<a class="reference internal image-reference" href="../_images/tuning_fork_random_guifrf.png"><img alt="SignalProcessingGUI Window for Random Excitation" src="../_images/tuning_fork_random_guifrf.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">SignalProcessingGUI setup for the random excitation</span><a class="headerlink" href="#id23" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id24">
<a class="reference internal image-reference" href="../_images/tuning_fork_random_frfs.png"><img alt="FRFs computed from the Random responses and excitation" src="../_images/tuning_fork_random_frfs.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">FRFs computed from the Random responses and excitation</span><a class="headerlink" href="#id24" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id25">
<a class="reference internal image-reference" href="../_images/tuning_fork_random_coherence.png"><img alt="Coherence computed from the Random responses and excitation" src="../_images/tuning_fork_random_coherence.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Multiple coherence computed from the Random responses and excitation</span><a class="headerlink" href="#id25" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Note that now that we have two references, there are twice as many FRFs.  In
addition, the coherence being computed is now a Multiple Coherence function.</p>
<p>It can be illustrative to play around with some of the signal processing
settings.  For example, if we remove the <code class="docutils literal notranslate"><span class="pre">Window</span></code> by setting it back to
<code class="docutils literal notranslate"><span class="pre">Rectangle</span></code>, the Multiple Coherence drops substantially.  This is because
coherence is a measure of how related the excitations and the responses are.
With Random excitation, the responses are often due to forces that are outside
the measurement frame, so from a signal processing standpoint, it seems like
there are responses that are unrelated to the excitation, and the coherence
therefore suffers.  Applying the window lessens this effect, because it
diminishes the forces and the responses at the edges of the frame, focusing
instead on the forces and responses in the middle of the frame, which are more
likely to be correlated to one another.</p>
<figure class="align-center" id="id26">
<a class="reference internal image-reference" href="../_images/tuning_fork_random_coherence_no_window.png"><img alt="Coherence computed from the Random responses and excitation with no window" src="../_images/tuning_fork_random_coherence_no_window.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Multiple coherence computed from the Random responses and excitation with no
window function.</span><a class="headerlink" href="#id26" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>We again pass the FRF data to the PolyPy curve fitter to fit modes.  Because there
are two references, there are now two columns of the FRF matrix and thus two
singular values in the CMIF.  Peaks in the CMIF still represent modes of the
system, and multiple modes can be found at a given frequency if multiple curves
of the CMIF peak at that frequency.  This can be seen at the first mode of the
system.</p>
<p>Due to the excitation from two directions, we now have excited more modes of
the system.  We therefore increase the <code class="docutils literal notranslate"><span class="pre">Poly</span> <span class="pre">Order</span></code> to 30 to 60 by 1.  We
keep the <code class="docutils literal notranslate"><span class="pre">Data</span> <span class="pre">Type</span></code> as <code class="docutils literal notranslate"><span class="pre">Acceleration</span></code>.</p>
<figure class="align-center" id="id27">
<a class="reference internal image-reference" href="../_images/tuning_fork_random_polypy_setup.png"><img alt="PolyPy setup from the Random excitation analysis" src="../_images/tuning_fork_random_polypy_setup.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">PolyPy setup for the Random excitation analysis showing two singular value
curves on the CMIF.</span><a class="headerlink" href="#id27" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>We then look at the stability diagram.  We must be sure to zoom into the areas
where multiple peaks are shown in the CMIF to ensure that we select roots for
both curves.</p>
<figure class="align-center" id="id28">
<a class="reference internal image-reference" href="../_images/tuning_fork_random_polypy_stability.png"><img alt="PolyPy stability diagram from the Random excitation analysis" src="../_images/tuning_fork_random_polypy_stability.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">PolyPy stability for the Random excitation analysis.  Note the closely spaced
roots.</span><a class="headerlink" href="#id28" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id29">
<a class="reference internal image-reference" href="../_images/tuning_fork_random_polypy_stability_zoom.png"><img alt="Zoom of PolyPy stability diagram from the Random excitation analysis" src="../_images/tuning_fork_random_polypy_stability_zoom.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">Zoom of the PolyPy stability for the Random excitation analysis at the first
natural frequency.  Note the two peaks with very similar roots.</span><a class="headerlink" href="#id29" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>We can then view the resynthesis to judge the adequacy of the fits.  Note that
both singular value curves should match if all repeated roots are captured.</p>
<figure class="align-center" id="id30">
<a class="reference internal image-reference" href="../_images/tuning_fork_random_cmif_fit.png"><img alt="CMIF resynthesis for the Random excitation analysis" src="../_images/tuning_fork_random_cmif_fit.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">CMIF resynthesis for the Random excitation analysis</span><a class="headerlink" href="#id30" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>We can then export the modes and exit the analysis.  We will save the geometry
for use in future analyses without needing to load the Exodus file again.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">geometry</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;tuning_fork_geometry.npz&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="comparison-of-excitation-techniques">
<h2><a class="toc-backref" href="#id38">Comparison of Excitation Techniques</a><a class="headerlink" href="#comparison-of-excitation-techniques" title="Permalink to this heading"></a></h2>
<p>We have now fit modes to each of the analyses.  It would be beneficial to compare
them not only against each other, but also against a linear eigensolution
analysis from Sierra/SD.</p>
<p>We will first import our packages and then load in the Sierra/SD mode shapes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sdynpy</span> <span class="k">as</span> <span class="nn">sdpy</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Load in the Sierra/SD model and extract shapes</span>
<span class="n">exodus_sd</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">Exodus</span><span class="p">(</span><span class="s1">&#39;tuning_fork_sd.e&#39;</span><span class="p">)</span>
<span class="n">shapes_sd</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">shape</span><span class="o">.</span><span class="n">from_exodus</span><span class="p">(</span><span class="n">exodus_sd</span><span class="p">)</span>
</pre></div>
</div>
<p>We will then load in the geometry and shapes exported from our PolyPy analyses.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">geometry</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">Geometry</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;tuning_fork_geometry.npz&#39;</span><span class="p">)</span>
<span class="n">shapes_sm_pr</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">shape</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;tuning_fork_pseudorandom_shapes.npy&#39;</span><span class="p">)</span>
<span class="n">shapes_sm_ra</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">shape</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;tuning_fork_random_shapes.npy&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We will first compare shapes between the Random and Pseudorandom Excitations.
We will compute a MAC matrix between the shapes to get correspondences, and then
plot a mode table comparing the results.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># First compare the shapes from the solid mechanics runs</span>
<span class="n">sm_mac</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">shape</span><span class="o">.</span><span class="n">mac</span><span class="p">(</span><span class="n">shapes_sm_pr</span><span class="p">,</span><span class="n">shapes_sm_ra</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">sm_mac</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Pseudorandom Excitation&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;MIMO Random Excitation&#39;</span><span class="p">)</span>

<span class="c1"># Print shape comparisons</span>
<span class="n">pr_indices</span><span class="p">,</span><span class="n">ra_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">sm_mac</span> <span class="o">&gt;</span> <span class="mf">0.9</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sdpy</span><span class="o">.</span><span class="n">shape</span><span class="o">.</span><span class="n">shape_comparison_table</span><span class="p">(</span><span class="n">shapes_sm_pr</span><span class="p">[</span><span class="n">pr_indices</span><span class="p">],</span> <span class="n">shapes_sm_ra</span><span class="p">[</span><span class="n">ra_indices</span><span class="p">]))</span>
</pre></div>
</div>
<figure class="align-center" id="id31">
<a class="reference internal image-reference" href="../_images/tuning_fork_sm_mac.png"><img alt="MAC between pseudorandom and random shapes" src="../_images/tuning_fork_sm_mac.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">MAC between shapes extracted from Pseudorandom and Random analyses</span><a class="headerlink" href="#id31" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span>  <span class="n">Mode</span><span class="o">|</span>  <span class="n">Freq</span> <span class="mi">1</span> <span class="p">(</span><span class="n">Hz</span><span class="p">)</span><span class="o">|</span>  <span class="n">Freq</span> <span class="mi">2</span> <span class="p">(</span><span class="n">Hz</span><span class="p">)</span><span class="o">|</span>  <span class="n">Freq</span> <span class="n">Error</span><span class="o">|</span>  <span class="n">Damp</span> <span class="mi">1</span><span class="o">|</span>  <span class="n">Damp</span> <span class="mi">2</span><span class="o">|</span>  <span class="n">Damp</span> <span class="n">Error</span><span class="o">|</span>  <span class="n">MAC</span><span class="o">|</span>
<span class="o">|------|-------------|-------------|------------|--------|--------|------------|-----|</span>
<span class="o">|</span>     <span class="mi">1</span><span class="o">|</span>        <span class="mf">44.66</span><span class="o">|</span>        <span class="mf">44.77</span><span class="o">|</span>       <span class="o">-</span><span class="mf">0.2</span><span class="o">%|</span>   <span class="mf">0.33</span><span class="o">%|</span>   <span class="mf">1.11</span><span class="o">%|</span>      <span class="o">-</span><span class="mf">70.4</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">2</span><span class="o">|</span>       <span class="mf">219.70</span><span class="o">|</span>       <span class="mf">219.78</span><span class="o">|</span>       <span class="o">-</span><span class="mf">0.0</span><span class="o">%|</span>   <span class="mf">0.11</span><span class="o">%|</span>   <span class="mf">0.24</span><span class="o">%|</span>      <span class="o">-</span><span class="mf">52.4</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">3</span><span class="o">|</span>       <span class="mf">332.43</span><span class="o">|</span>       <span class="mf">332.41</span><span class="o">|</span>        <span class="mf">0.0</span><span class="o">%|</span>   <span class="mf">0.11</span><span class="o">%|</span>   <span class="mf">0.17</span><span class="o">%|</span>      <span class="o">-</span><span class="mf">34.3</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">4</span><span class="o">|</span>       <span class="mf">755.76</span><span class="o">|</span>       <span class="mf">755.71</span><span class="o">|</span>        <span class="mf">0.0</span><span class="o">%|</span>   <span class="mf">0.16</span><span class="o">%|</span>   <span class="mf">0.17</span><span class="o">%|</span>       <span class="o">-</span><span class="mf">6.8</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">5</span><span class="o">|</span>       <span class="mf">834.21</span><span class="o">|</span>       <span class="mf">834.19</span><span class="o">|</span>        <span class="mf">0.0</span><span class="o">%|</span>   <span class="mf">0.18</span><span class="o">%|</span>   <span class="mf">0.19</span><span class="o">%|</span>       <span class="o">-</span><span class="mf">5.4</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">6</span><span class="o">|</span>      <span class="mf">1299.19</span><span class="o">|</span>      <span class="mf">1299.19</span><span class="o">|</span>        <span class="mf">0.0</span><span class="o">%|</span>   <span class="mf">0.24</span><span class="o">%|</span>   <span class="mf">0.24</span><span class="o">%|</span>       <span class="o">-</span><span class="mf">0.6</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">7</span><span class="o">|</span>      <span class="mf">1717.03</span><span class="o">|</span>      <span class="mf">1717.03</span><span class="o">|</span>       <span class="o">-</span><span class="mf">0.0</span><span class="o">%|</span>   <span class="mf">0.31</span><span class="o">%|</span>   <span class="mf">0.32</span><span class="o">%|</span>       <span class="o">-</span><span class="mf">3.0</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">8</span><span class="o">|</span>      <span class="mf">1808.44</span><span class="o">|</span>      <span class="mf">1808.48</span><span class="o">|</span>       <span class="o">-</span><span class="mf">0.0</span><span class="o">%|</span>   <span class="mf">0.32</span><span class="o">%|</span>   <span class="mf">0.33</span><span class="o">%|</span>       <span class="o">-</span><span class="mf">2.4</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
</pre></div>
</div>
<p>Note that the Random analysis was able to extract many more modes than the
Pseudorandom due to the multiple simultaneous excitation forces that can be
applied.  Looking at modes that were extracted from both analyses, we see there
was very good agreement in frequency between the two analyses.  Significantly
larger differences were found bewteen damping values particularly in the low
frequency modes.  This can be attributed to the Hann window, which artificially
increases damping.  The shape agreement was excellent.</p>
<p>We can also compare to results obtained from Sierra/SD.  Note that the mesh
used in this set of analyses was very coarse, with only two elements through
the thickness.  The Sierra/SD code uses by default fully-integrated hexahedral
elements, whereas the Sierra/SM code uses by default under-integrated hexahedral
elements, so the Sierra/SM results are expected to be softer in general than the
Sierra/SD results.  Were the meshes more refined, these differences would be
lessened.</p>
<p>We will again plot the MAC matrix and get mode correspondences.  We can also
plot mode shapes for comparison.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Now compare to SD analysis</span>
<span class="n">sd_mac</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">shape</span><span class="o">.</span><span class="n">mac</span><span class="p">(</span><span class="n">shapes_sd</span><span class="p">[</span><span class="n">shapes_sd</span><span class="o">.</span><span class="n">frequency</span> <span class="o">&lt;</span> <span class="mi">2500</span><span class="p">],</span><span class="n">shapes_sm_ra</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sdpy</span><span class="o">.</span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">sd_mac</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;SD Eigensolution&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;SM MIMO Random Excitation&#39;</span><span class="p">)</span>
<span class="n">sd_indices</span><span class="p">,</span><span class="n">ra_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">sd_mac</span> <span class="o">&gt;</span> <span class="mf">0.6</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sdpy</span><span class="o">.</span><span class="n">shape</span><span class="o">.</span><span class="n">shape_comparison_table</span><span class="p">(</span><span class="n">shapes_sd</span><span class="p">[</span><span class="n">sd_indices</span><span class="p">],</span> <span class="n">shapes_sm_ra</span><span class="p">[</span><span class="n">ra_indices</span><span class="p">],</span> <span class="n">damping_format</span><span class="o">=</span><span class="kc">None</span><span class="p">))</span>

<span class="n">geometry</span><span class="o">.</span><span class="n">plot_shape</span><span class="p">(</span><span class="n">shapes_sd</span><span class="p">[</span><span class="n">shapes_sd</span><span class="o">.</span><span class="n">frequency</span> <span class="o">&lt;</span> <span class="mi">2500</span><span class="p">])</span>
<span class="n">geometry</span><span class="o">.</span><span class="n">plot_shape</span><span class="p">(</span><span class="n">shapes_sm_ra</span><span class="p">)</span>
<span class="n">geometry</span><span class="o">.</span><span class="n">plot_shape</span><span class="p">(</span><span class="n">shapes_sm_pr</span><span class="p">)</span>
</pre></div>
</div>
<figure class="align-center" id="id32">
<a class="reference internal image-reference" href="../_images/tuning_fork_sm_sd_mac.png"><img alt="MAC between random shapes and eigensolution shapes" src="../_images/tuning_fork_sm_sd_mac.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-text">MAC between shapes extracted from Random and Eigensolution analyses</span><a class="headerlink" href="#id32" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span>  <span class="n">Mode</span><span class="o">|</span>  <span class="n">Freq</span> <span class="mi">1</span> <span class="p">(</span><span class="n">Hz</span><span class="p">)</span><span class="o">|</span>  <span class="n">Freq</span> <span class="mi">2</span> <span class="p">(</span><span class="n">Hz</span><span class="p">)</span><span class="o">|</span>  <span class="n">Freq</span> <span class="n">Error</span><span class="o">|</span>  <span class="n">MAC</span><span class="o">|</span>
<span class="o">|------|-------------|-------------|------------|-----|</span>
<span class="o">|</span>     <span class="mi">1</span><span class="o">|</span>        <span class="mf">48.84</span><span class="o">|</span>        <span class="mf">44.77</span><span class="o">|</span>        <span class="mf">9.1</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">2</span><span class="o">|</span>        <span class="mf">49.35</span><span class="o">|</span>        <span class="mf">45.23</span><span class="o">|</span>        <span class="mf">9.1</span><span class="o">%|</span>   <span class="mi">81</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">3</span><span class="o">|</span>       <span class="mf">176.35</span><span class="o">|</span>       <span class="mf">166.38</span><span class="o">|</span>        <span class="mf">6.0</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">4</span><span class="o">|</span>       <span class="mf">240.25</span><span class="o">|</span>       <span class="mf">219.78</span><span class="o">|</span>        <span class="mf">9.3</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">5</span><span class="o">|</span>       <span class="mf">358.91</span><span class="o">|</span>       <span class="mf">327.32</span><span class="o">|</span>        <span class="mf">9.7</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">6</span><span class="o">|</span>       <span class="mf">362.98</span><span class="o">|</span>       <span class="mf">332.41</span><span class="o">|</span>        <span class="mf">9.2</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">7</span><span class="o">|</span>       <span class="mf">426.27</span><span class="o">|</span>       <span class="mf">378.33</span><span class="o">|</span>       <span class="mf">12.7</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">8</span><span class="o">|</span>       <span class="mf">832.01</span><span class="o">|</span>       <span class="mf">755.71</span><span class="o">|</span>       <span class="mf">10.1</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>     <span class="mi">9</span><span class="o">|</span>       <span class="mf">848.65</span><span class="o">|</span>       <span class="mf">834.19</span><span class="o">|</span>        <span class="mf">1.7</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>    <span class="mi">10</span><span class="o">|</span>      <span class="mf">1129.70</span><span class="o">|</span>      <span class="mf">1011.06</span><span class="o">|</span>       <span class="mf">11.7</span><span class="o">%|</span>   <span class="mi">96</span><span class="o">|</span>
<span class="o">|</span>    <span class="mi">11</span><span class="o">|</span>      <span class="mf">1383.31</span><span class="o">|</span>      <span class="mf">1098.41</span><span class="o">|</span>       <span class="mf">25.9</span><span class="o">%|</span>   <span class="mi">96</span><span class="o">|</span>
<span class="o">|</span>    <span class="mi">12</span><span class="o">|</span>      <span class="mf">1445.70</span><span class="o">|</span>      <span class="mf">1299.19</span><span class="o">|</span>       <span class="mf">11.3</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>    <span class="mi">13</span><span class="o">|</span>      <span class="mf">1457.41</span><span class="o">|</span>      <span class="mf">1234.26</span><span class="o">|</span>       <span class="mf">18.1</span><span class="o">%|</span>   <span class="mi">98</span><span class="o">|</span>
<span class="o">|</span>    <span class="mi">14</span><span class="o">|</span>      <span class="mf">1860.25</span><span class="o">|</span>      <span class="mf">1717.03</span><span class="o">|</span>        <span class="mf">8.3</span><span class="o">%|</span>   <span class="mi">99</span><span class="o">|</span>
<span class="o">|</span>    <span class="mi">15</span><span class="o">|</span>      <span class="mf">1937.92</span><span class="o">|</span>      <span class="mf">1655.41</span><span class="o">|</span>       <span class="mf">17.1</span><span class="o">%|</span>   <span class="mi">97</span><span class="o">|</span>
<span class="o">|</span>    <span class="mi">16</span><span class="o">|</span>      <span class="mf">1947.79</span><span class="o">|</span>      <span class="mf">1751.61</span><span class="o">|</span>       <span class="mf">11.2</span><span class="o">%|</span>  <span class="mi">100</span><span class="o">|</span>
<span class="o">|</span>    <span class="mi">17</span><span class="o">|</span>      <span class="mf">2015.65</span><span class="o">|</span>      <span class="mf">1808.48</span><span class="o">|</span>       <span class="mf">11.5</span><span class="o">%|</span>   <span class="mi">99</span><span class="o">|</span>
</pre></div>
</div>
<p>Note that all modes in the bandwidth in the Sierra/SD model were also found in
the Sierra/SM extractions, though with some frequency shifts.  The one poor
shape correlation occurs in the second mode, though this is more an artifact of
the closely spaced modes in the random vibration test; the second mode ends up
having some portion of the first mode, which is valid (for repeated eigenvalues,
any linear combination of two eigenvectors is also an eigenvector).</p>
</section>
<section id="summary">
<h2><a class="toc-backref" href="#id39">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading"></a></h2>
<p>This example problem showed how SDynPy can be used to interact with Sierra/SM
results, treating the transient data as if it were test data and computing
frequency response functions and fitting modes.  In this way, nonlinear analysis
data or other explicit analyses can be analyzed with structural dynamics
techniques.</p>
<p>This example relied heavily on SDynPy’s graphical tools to compute frequency
response functions and fit modes.  Another option is to perform these same
analyses via code, which allows more automation.  If, for example, 5 different
excitation strategies were analyzed instead of 2, it might have been worth
scripting the FRF computation and mode fitting processes.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="rattlesnake_demonstration.html" class="btn btn-neutral float-left" title="Rattlesnake Demonstration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="model_reduction/model_reduction.html" class="btn btn-neutral float-right" title="Model Reduction" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022 National Technology &amp; Engineering Solutions of Sandia,     LLC (NTESS). Under the terms of Contract DE-NA0003525 with NTESS,     the U.S. Government retains certain rights in this software.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>